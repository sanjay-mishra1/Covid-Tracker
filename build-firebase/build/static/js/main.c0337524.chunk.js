(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{117:function(e,t,n){},121:function(e,t,n){},123:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),s=n(10),o=n.n(s),i=(n(117),n(96)),l=n(97),d=n(104),j=n(102),u=n(270),h=n(252);var b=function(e){var t;return e.deviceWidth,window.onload=function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),t=e,console.log("Eligible to install")})),console.log("Install")},Object(c.jsx)("div",{children:Object(c.jsx)(h.a,{onClick:function(e){t?(t.prompt(),t.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}))):console.log("No eligible to install")},children:"Install"})})},f=(n(121),n(20)),p=n.n(f),O=n(39),x=n(11),m=n(265),v=n(266),g=n(269),y=n(225),w=n(256),C=n(257),k=n(262),N=n(26);n(123);var _=function(e){var t=e.title,n=e.cases,a=e.total,r=e.active,s=e.isRed,o=Object(N.a)(e,["title","cases","total","active","isRed"]);return Object(c.jsx)(w.a,{onClick:o.onClick,className:"infoBox ".concat(r&&"infoBox--selected"," ").concat(s&&"infoBox--red"),children:Object(c.jsxs)(C.a,{children:[Object(c.jsx)(y.a,{color:"textSecondary",gutterBottom:!0,children:t}),Object(c.jsx)("h2",{className:"infoBox__cases ".concat(!s&&"infoBox__cases--green"),children:n}),Object(c.jsxs)(y.a,{className:"infoBox__total",color:"textSecondary",children:[a," Total"]})]})})},S=n(40),I=n(13),L=n.n(I),T=n(103),D=n(271),R=n(258),M={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:300},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:400},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},B=function(e){return M[e].half_op},F=function(e){return M[e].hex},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",n=Object(T.a)(e);return n.sort((function(e,n){return e[t]>n[t]?-1:1})),n},A=function(e){return e?"+".concat(L()(e).format("0.0a")):"+0"},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return Object(c.jsx)(D.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:M[t].hex,fillColor:M[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*M[t].multiplier,children:Object(c.jsx)(R.a,{children:Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(c.jsx)("div",{className:"info-name",children:e.country}),Object(c.jsxs)("div",{className:"info-confirmed",children:["Cases: ",L()(e.cases).format("0,0")]}),Object(c.jsxs)("div",{className:"info-recovered",children:["Recovered: ",L()(e.recovered).format("0,0")]}),Object(c.jsxs)("div",{className:"info-deaths",children:["Deaths: ",L()(e.deaths).format("0,0")]})]})})},t+""+e.country)}))},W=function(e){var t=new Date(parseInt(e.toString(),10)).toString("MM/dd/yy HH:mm:ss");return t.substr(0,t.indexOf("GMT"))},z=function(e,t){var n,c=[];for(var a in e[t]){if(n){var r={x:a,y:Math.abs(e[t][a]-n)};5e6!==r.y&&c.push(r)}e[t][a]-n!==5e6&&(n=e[t][a])}return c},U=n(259),Y=n(268),J=n(260),H=n(261),q=n(263),G=n.p+"static/media/fullscreen.9a7f3595.svg",V=n.p+"static/media/close.3d085550.svg",Z={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return L()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return L()(e).format("0a")}}}]}};var K=function(e){var t=e.data,n=e.country,a=r.a.useState(!1),s=Object(x.a)(a,2),o=s[0],i=s[1],l=function(){i(!1)};return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(U.a,{style:{float:"right"},onClick:function(){i(!0)},children:Object(c.jsx)("img",{style:{width:18},src:G,alt:"fullscreen"})}),Object(c.jsxs)(Y.a,{fullScreen:!0,open:o,onClose:l,children:[Object(c.jsxs)(J.a,{children:[Object(c.jsx)(H.a,{style:{marginRight:-98,width:"100%"},children:n}),Object(c.jsx)(U.a,{onClick:l,children:Object(c.jsx)("img",{style:{width:18},src:V,alt:"close"})})]}),Object(c.jsx)(k.a,{}),Object(c.jsx)(q.a,{children:Object(c.jsx)("div",{children:t&&Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsxs)(w.a,{variant:"outlined",style:{margin:10},children:[Object(c.jsx)(C.a,{children:Object(c.jsx)("div",{className:"app__information",children:Object(c.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Cases"})})}),Object(c.jsx)(k.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(S.Line,{data:{datasets:[{backgroundColor:B("cases"),borderColor:F("cases"),data:z(t,"cases")}]},options:Z})]}),Object(c.jsxs)(w.a,{variant:"outlined",style:{margin:10},children:[Object(c.jsx)(C.a,{children:Object(c.jsx)("div",{className:"app__information",children:Object(c.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Recovered"})})}),Object(c.jsx)(k.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(S.Line,{data:{datasets:[{backgroundColor:B("recovered"),borderColor:F("recovered"),data:z(t,"recovered")}]},options:Z})]}),Object(c.jsxs)(w.a,{variant:"outlined",style:{margin:10},children:[Object(c.jsx)(C.a,{children:Object(c.jsx)("div",{className:"app__information",children:Object(c.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Deaths"})})}),Object(c.jsx)(k.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(S.Line,{data:{datasets:[{backgroundColor:B("deaths"),borderColor:F("deaths"),data:z(t,"deaths")}]},options:Z})]})]})})})]})]})},Q={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return L()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return L()(e).format("0a")}}}]}};var X=function(e){var t=e.casesType,n=e.country,s=e.countryName,o=Object(a.useState)({}),i=Object(x.a)(o,2),l=i[0],d=i[1],j=Object(a.useState)(""),u=Object(x.a)(j,2),h=u[0],b=u[1],f=Object(a.useState)({}),m=Object(x.a)(f,2),v=m[0],g=m[1];return Object(a.useEffect)((function(){if(h!==n){(function(){var e=Object(O.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n&&"worldwide"!==n?"https://disease.sh/v3/covid-19/historical/".concat(n,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(a).then((function(e){return e.json()})).then((function(e){n&&"worldwide"!==n&&(e=e.timeline),g(e),b(n);var c=z(e,t);d(c)})).catch((function(e){return Object(c.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=z(v,t);d(e)}}),[n]),Object(a.useEffect)((function(){if(h!==n){(function(){var e=Object(O.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n&&"worldwide"!==n?"https://disease.sh/v3/covid-19/historical/".concat(n,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(a).then((function(e){return e.json()})).then((function(e){n&&"worldwide"!==n&&(e=e.timeline),g(e),b(n);var c=z(e,t);d(c)})).catch((function(e){return Object(c.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=z(v,t);d(e)}}),[t]),Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)("div",{className:"app_graph",children:(null===l||void 0===l?void 0:l.length)>0&&Object(c.jsx)(S.Line,{data:{datasets:[{backgroundColor:B(t),borderColor:F(t),data:l}]},options:Q})}),Object(c.jsx)(K,{country:s,data:v})]})};n(220);var $=function(e){var t=e.countries,n=e.casesType,a=e.setCountryChange;return Object(c.jsx)("div",{className:"table",children:t.map((function(e){return Object(c.jsxs)("tr",{onClick:function(){return t=e.countryInfo.iso2,console.log("table clicked",t),void a(t);var t},className:"table-row",children:[Object(c.jsx)("td",{children:Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)("img",{src:e.countryInfo.flag,className:"table-img",alt:e.country}),Object(c.jsx)("p",{children:e.country})]})}),Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:L()(e[n]).format("0,0")})})]},e.country)}))})},ee=n(264),te=n(272);n(221);var ne=function(e){var t=e.countries,n=e.casesType,a=e.center,s=e.zoom,o=r.a.useState(a),i=Object(x.a)(o,2),l=i[0],d=i[1],j=r.a.useState(s),u=Object(x.a)(j,2),h=u[0],b=u[1];return r.a.useEffect((function(){d(a),34.80746===a[0]?b(3):b(4)}),[a]),Object(c.jsx)("div",{className:"map",children:Object(c.jsxs)(ee.a,{geoJSON:{color:"#000000"},scrollWheelZoom:!1,center:l,zoom:h,children:[Object(c.jsx)(te.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),P(t,n)]})},l)};n(222);var ce=function(e){var t=e.caseProp,n=Object(a.useState)("worldwide"),s=Object(x.a)(n,2),o=s[0],i=s[1],l=Object(a.useState)({}),d=Object(x.a)(l,2),j=d[0],u=d[1],h=Object(a.useState)([]),b=Object(x.a)(h,2),f=b[0],N=b[1],S=Object(a.useState)([]),I=Object(x.a)(S,2),T=I[0],D=I[1],R=Object(a.useState)([]),M=Object(x.a)(R,2),B=M[0],F=M[1],P=Object(a.useState)(t),z=Object(x.a)(P,2),U=z[0],Y=z[1],J=Object(a.useState)([34.80746,-40.4796]),H=Object(x.a)(J,2),q=H[0],G=H[1],V=Object(a.useState)(3),Z=Object(x.a)(V,2),K=Z[0],Q=Z[1];Object(a.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){u(e)}))}),[]),Object(a.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=E(e);N(t),D(e),F(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var ee=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target&&t.target.value?t.target.value:t,i(n),c="worldwide"===n?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(n),e.next=5,fetch(c).then((function(e){return e.json()})).then((function(e){u(e);try{e.countryInfo.lat?G([e.countryInfo.lat,e.countryInfo.long]):G([34.80746,-40.4796])}catch(t){G([34.80746,-40.4796])}Q("worldwide"===o?3:4)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsxs)("div",{className:"app__left",children:[Object(c.jsxs)("div",{className:"app__header",children:[Object(c.jsx)("h1",{children:"COVID-19 Tracker"}),Object(c.jsx)(m.a,{className:"app__dropdown",children:Object(c.jsxs)(v.a,{variant:"outlined",value:o,onChange:ee,children:[Object(c.jsx)(g.a,{value:"worldwide",children:"Worldwide"}),f.map((function(e){return Object(c.jsx)(g.a,{value:e.value,children:e.name},e.value)}))]})})]}),Object(c.jsxs)("div",{className:"app__stats",children:[Object(c.jsx)(_,{onClick:function(e){return Y("cases")},title:"Coronavirus Cases",isRed:!0,active:"cases"===U,cases:A(j.todayCases),total:L()(j.cases).format("0,0")}),Object(c.jsx)(_,{onClick:function(e){return Y("recovered")},title:"Recovered",active:"recovered"===U,cases:A(j.todayRecovered),total:L()(j.recovered).format("0,0")}),Object(c.jsx)(_,{onClick:function(e){return Y("deaths")},title:"Deaths",isRed:!0,active:"deaths"===U,cases:A(j.todayDeaths),total:L()(j.deaths).format("0,0")})]}),j&&j.updated&&Object(c.jsx)("div",{children:Object(c.jsxs)(y.a,{style:{width:"fit-content",float:"right",marginTop:8},color:"textSecondary",children:["Last updated "," "+W(j.updated)]})}),Object(c.jsx)(ne,{countries:T,casesType:U,center:q,zoom:K}),"worldwide"!==o&&j.countryInfo&&Object(c.jsxs)(w.a,{style:{marginTop:"1rem",marginBottom:"1rem"},children:[Object(c.jsx)(C.a,{children:Object(c.jsxs)("div",{className:"app__information",style:{display:"flex"},children:[Object(c.jsx)("img",{style:{height:39,placeSelf:"center"},src:j.countryInfo.flag,alt:j.country}),Object(c.jsxs)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:[j.country," "," "+U]})]})}),Object(c.jsx)(k.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)(X,{classname:"app_graph",country:o,casesType:U,countryName:j.country})]})]}),Object(c.jsx)(w.a,{className:"app__right",children:Object(c.jsx)(C.a,{children:Object(c.jsxs)("div",{className:"app__information",children:[Object(c.jsxs)("h3",{children:["Live ",U," by country"]}),Object(c.jsx)($,{setCountryChange:ee,casesType:U,countries:B}),Object(c.jsxs)("h3",{children:["Worldwide new ",U]}),Object(c.jsx)(X,{casesType:U,countryName:"worldwide"===o?"Worldwide":j.country})]})})})]})},ae=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={type:new URLSearchParams(window.location.search).get("type")?new URLSearchParams(window.location.search).get("type"):"cases"},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log(this.props),Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(ce,{caseProp:this.state.type}),Object(c.jsx)(b,{})]})}}]),n}(a.Component),re=Object(u.a)()(ae),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(re,{})}),document.getElementById("root")),se()}},[[223,1,2]]]);