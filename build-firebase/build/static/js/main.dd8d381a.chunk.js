(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{122:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),s=a(10),i=a.n(s),o=(a(122),a(99)),l=a(100),d=a(106),u=a(105),j=a(279),h=a(7),f=a(257),b=a(260),p=a(262),m=a.p+"static/media/download.5610a71b.svg",x=a.p+"static/media/close.3d085550.svg",O=Object(f.a)((function(e){return{toolbar:{display:"flex",backgroundColor:"#ffffff",paddingLeft:4,alignItems:"center"},content:{flexGrow:1,cursor:"pointer","& img":{width:40,height:36}},image:{width:20,padding:14,cursor:"pointer"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}}));var v=function(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],c=t[1],s=r.a.useState(null),i=Object(h.a)(s,2),o=i[0],l=i[1],d=O();return window.onload=function(){window.addEventListener("beforeinstallprompt",(function(e){if(e.preventDefault(),window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return console.log("Already install"),!1;l(e),c(!0)}))},Object(n.jsx)(r.a.Fragment,{children:a&&Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{position:"fixed",variant:"elevation",color:"transparent",className:d.appBar,children:Object(n.jsxs)(p.a,{className:d.toolbar,children:[Object(n.jsx)("div",{onClick:function(e){o?(o.prompt(),o.userChoice.then((function(e){"accepted"===e.outcome&&c(!1)}))):console.log("No eligible to install")},className:d.content,children:Object(n.jsxs)("div",{className:d.toolbar,children:[Object(n.jsx)("img",{alt:"download",src:m}),Object(n.jsx)("p",{children:"Install covid tracker"})]})}),Object(n.jsx)("img",{onClick:function(){c(!1)},alt:"close",src:x,className:d.image})]})})]})})},g=(a(126),a(20)),y=a.n(g),w=a(44),C=a(54),N=a(263),k=a(264),S=a(269),_=a(26);a(128);var I=function(e){var t=e.width,a=e.title,c=e.cases,r=e.total,s=e.active,i=e.isRed,o=Object(_.a)(e,["width","title","cases","total","active","isRed"]),l="xs"===t?{fontSize:"1.45rem"}:null;return Object(n.jsx)(N.a,{onClick:o.onClick,className:"infoBox ".concat(s&&"infoBox--selected"," ").concat(i&&"infoBox--red"),children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(C.a,{color:"textSecondary",gutterBottom:!0,children:a}),Object(n.jsx)("h2",{style:l,className:"infoBox__cases ".concat(!i&&"infoBox__cases--green"),children:c}),Object(n.jsxs)(C.a,{className:"infoBox__total",color:"textSecondary",children:[r," Total"]})]})})},T=a(67),B=a(12),L=a.n(B),E=a(38),D=a(280),F=a(265),M="#0095ff",R={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:300},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:400},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},U=function(e){return R[e].half_op},A=function(e){return R[e].hex},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",a=Object(E.a)(e);return a.sort((function(e,a){return e[t]>a[t]?-1:1})),a},W=function(e){return e?"+".concat(L()(e).format("0.0a")):"+0"},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return Object(n.jsx)(D.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:a===e.countryInfo.iso2?M:R[t].hex,fillColor:R[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*R[t].multiplier,children:Object(n.jsx)(F.a,{children:Object(n.jsxs)("div",{className:"info-container",children:[Object(n.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(n.jsx)("div",{className:"info-name",children:e.country}),Object(n.jsxs)("div",{className:"info-confirmed",children:["Cases: ",L()(e.cases).format("0,0")]}),Object(n.jsxs)("div",{className:"info-recovered",children:["Recovered: ",L()(e.recovered).format("0,0")]}),Object(n.jsxs)("div",{className:"info-deaths",children:["Deaths: ",L()(e.deaths).format("0,0")]})]})})},t+""+e.country)}))},Y=function(e){var t=new Date(parseInt(e.toString(),10)).toString("MM/dd/yy HH:mm:ss");return t.substr(0,t.indexOf("GMT"))},G=function(e,t){var a,n=[];for(var c in e[t]){if(a){var r={x:c,y:Math.abs(e[t][c]-a)};5e6!==r.y&&n.push(r)}e[t][c]-a!==5e6&&(a=e[t][c])}return n},H=a(266),J=a(277),V=a(267),q=a(268),Z=a(270),K=a.p+"static/media/fullscreen.9a7f3595.svg",Q=a.p+"static/media/download_icon.4fc10be1.svg",X={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return L()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return L()(e).format("0a")}}}]}};var $=function(e){var t=e.data,a=e.country,c=e.id,s=r.a.useState(!1),i=Object(h.a)(s,2),o=i[0],l=i[1],d=function(){l(!1)},u=function(e){var t,n=document.createElement("a");n.download=(t=e,c.includes("global")?"worldwide "+t:("worldwide"===a?"global ":a)+" "+t),console.log("downloading ",c+"-"+e),n.href=document.getElementById(c+"-"+e).toDataURL(),n.click()};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(H.a,{style:{float:"right"},onClick:function(){l(!0)},children:Object(n.jsx)("img",{style:{width:18},src:K,alt:"fullscreen"})}),Object(n.jsxs)(J.a,{fullScreen:!0,open:o,onClose:d,children:[Object(n.jsxs)(V.a,{style:{padding:0},children:[Object(n.jsx)(q.a,{style:{marginRight:-98,width:"100%"},children:a}),Object(n.jsx)(H.a,{onClick:d,children:Object(n.jsx)("img",{style:{width:18},src:x,alt:"close"})})]}),Object(n.jsx)(S.a,{}),Object(n.jsx)(Z.a,{children:Object(n.jsx)("div",{children:t&&["cases","recovered","deaths"].map((function(e){return Object(n.jsxs)(N.a,{variant:"outlined",style:{margin:10},children:[Object(n.jsx)(k.a,{style:{padding:0},children:Object(n.jsxs)("div",{className:"app__information graph-head",children:[Object(n.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem",flex:1.9},children:e.substring(0,1).toUpperCase()+e.substring(1)}),Object(n.jsx)(H.a,{style:{height:40},onClick:function(){return u(e)},children:Object(n.jsx)("img",{style:{width:18},src:Q,alt:"download"})})]})}),Object(n.jsx)(S.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(T.Line,{id:c+"-"+e,data:{datasets:[{backgroundColor:U(e),borderColor:A(e),data:G(t,e)}]},options:X})]},e)}))})})]})]})},ee={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return L()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return L()(e).format("0a")}}}]}};var te=function(e){var t=e.casesType,a=e.country,s=e.countryName,i=e.id,o=Object(c.useState)({}),l=Object(h.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(""),f=Object(h.a)(j,2),b=f[0],p=f[1],m=Object(c.useState)({}),x=Object(h.a)(m,2),O=x[0],v=x[1];return Object(c.useEffect)((function(){if(b!==a){(function(){var e=Object(w.a)(y.a.mark((function e(){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a&&"worldwide"!==a?"https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(c).then((function(e){return e.json()})).then((function(e){a&&"worldwide"!==a&&(e=e.timeline),v(e),p(a);var n=G(e,t);u(n)})).catch((function(e){return Object(n.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=G(O,t);u(e)}}),[a]),Object(c.useEffect)((function(){if(b!==a){(function(){var e=Object(w.a)(y.a.mark((function e(){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a&&"worldwide"!==a?"https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(c).then((function(e){return e.json()})).then((function(e){a&&"worldwide"!==a&&(e=e.timeline),v(e),p(a);var n=G(e,t);u(n)})).catch((function(e){return Object(n.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=G(O,t);u(e)}}),[t]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"app_graph",children:(null===d||void 0===d?void 0:d.length)>0&&Object(n.jsx)(T.Line,{id:i,data:{datasets:[{backgroundColor:U(t),borderColor:A(t),data:d}]},options:ee})}),Object(n.jsx)(H.a,{onClick:function(){var e=document.createElement("a");e.download=i.includes("global")?"worldwide "+t:("worldwide"===a?"global ":s)+" "+t,e.href=document.getElementById(i).toDataURL(),e.click()},children:Object(n.jsx)("img",{style:{width:18},src:Q,alt:"download"})}),Object(n.jsx)($,{country:s,data:O,id:"fullgraph-"+i})]})},ae=(a(225),a(108)),ne=a(278),ce=a.p+"static/media/search.9ecf77d3.svg",re=Object(f.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function se(e){var t=e.setFilterText,a=e.filterText,c=re();return Object(n.jsxs)(ae.a,{component:"form",className:c.root,children:[Object(n.jsx)(H.a,{className:c.iconButton,"aria-label":"menu",children:Object(n.jsx)("img",{src:ce,alt:"Search",style:{width:16}})}),Object(n.jsx)(ne.a,{className:c.input,onChange:function(e){t(e.target.value)},value:a,placeholder:"Search Country",inputProps:{"aria-label":"search country"}}),Object(n.jsx)(H.a,{className:c.iconButton,"aria-label":"search",disabled:!0}),Object(n.jsx)(S.a,{className:c.divider,orientation:"vertical"}),Object(n.jsx)(H.a,{color:"primary",className:c.iconButton,"aria-label":"directions",onClick:function(){t("")},children:Object(n.jsx)("img",{src:x,alt:"remove",style:{width:16}})})]})}var ie=function(e){var t=e.countries,a=e.casesType,c=e.setCountryChange,s=r.a.useState(""),i=Object(h.a)(s,2),o=i[0],l=i[1],d=r.a.useState(Object(E.a)(t)),u=Object(h.a)(d,2),j=u[0],f=u[1];return r.a.useEffect((function(){f(Object(E.a)(t))}),[t]),r.a.useEffect((function(){f(""!==o?t.filter((function(e){return e.country.toUpperCase().startsWith(o.toUpperCase())})):t.map((function(e){return e})))}),[o]),Object(n.jsxs)(N.a,{variant:"outlined",children:[Object(n.jsx)(se,{setFilterText:l,filterText:o}),Object(n.jsx)("div",{className:"table",children:j.map((function(e){return Object(n.jsxs)("tr",{onClick:function(){return t=e.countryInfo.iso2,void c(t);var t},className:"table-row",children:[Object(n.jsx)("td",{children:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("img",{src:e.countryInfo.flag,className:"table-img",alt:e.country}),Object(n.jsx)("p",{children:e.country})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:L()(e[a]).format("0,0")})})]},e.country)}))})]})},oe=a(271),le=a(281);a(226);var de=function(e){var t=e.countries,a=e.casesType,c=e.center,s=e.zoom,i=e.selectedCountry,o=r.a.useState(c),l=Object(h.a)(o,2),d=l[0],u=l[1],j=r.a.useState(s),f=Object(h.a)(j,2),b=f[0],p=f[1];return r.a.useEffect((function(){u(c),34.80746===c[0]?p(3):p(4)}),[c]),Object(n.jsx)("div",{className:"map",children:Object(n.jsxs)(oe.a,{scrollWheelZoom:!1,center:d,zoom:b,children:[Object(n.jsx)(le.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),z(t,a,i)]})},d)},ue=(a(227),a(272)),je=a(275),he=a(273),fe=a(274);var be=function(e){var t=e.country,a=e.onCountryChange,c=e.countries,s=r.a.useState(""),i=Object(h.a)(s,2),o=i[0],l=i[1],d=r.a.useState(Object(E.a)(c)),u=Object(h.a)(d,2),j=u[0],f=u[1];return r.a.useEffect((function(){f(c)}),[c]),r.a.useEffect((function(){f(""!==o?c.filter((function(e){return null!==e.value&&e.name.toUpperCase().startsWith(o.toUpperCase())})):c)}),[o]),Object(n.jsx)(ue.a,{className:"app__dropdown",children:Object(n.jsxs)(je.a,{className:"menu",variant:"outlined",defaultValue:"worldwide",value:t,onChange:a,children:[Object(n.jsx)(se,{filterText:o,setFilterText:l}),Object(n.jsx)(he.a,{className:"menu-item",value:"worldwide",children:Object(n.jsx)(fe.a,{children:"Worldwide"})},"worldwide"),j.map((function(e){return Object(n.jsx)(he.a,{className:"menu-item",value:e.value,children:Object(n.jsx)(fe.a,{children:e.name})},e.name)}))]})})};var pe=function(e){var t=e.caseProp,a=e.width,s=Object(c.useState)("worldwide"),i=Object(h.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)({}),u=Object(h.a)(d,2),j=u[0],f=u[1],b=Object(c.useState)([]),p=Object(h.a)(b,2),m=p[0],x=p[1],O=Object(c.useState)([]),v=Object(h.a)(O,2),g=v[0],_=v[1],T=Object(c.useState)([]),B=Object(h.a)(T,2),E=B[0],D=B[1],F=Object(c.useState)(t),M=Object(h.a)(F,2),R=M[0],U=M[1],A=Object(c.useState)([34.80746,-40.4796]),z=Object(h.a)(A,2),G=z[0],H=z[1],J=Object(c.useState)("xs"===a?2:3),V=Object(h.a)(J,2),q=V[0],Z=V[1];Object(c.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){f(e)}))}),[]),Object(c.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),a=P(e);x(t),_(e),D(a)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var K=function(){var e=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target&&t.target.value?t.target.value:t,l(a),n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a),e.next=5,fetch(n).then((function(e){return e.json()})).then((function(e){f(e);try{e.countryInfo.lat?H([e.countryInfo.lat,e.countryInfo.long]):H([34.80746,-40.4796])}catch(t){H([34.80746,-40.4796])}Z("worldwide"===o?3:4)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"app__left",children:[Object(n.jsxs)("div",{className:"app__header",children:[Object(n.jsx)("h1",{children:"COVID-19 Tracker"}),Object(n.jsx)(be,{countries:m,country:o,onCountryChange:K})]}),Object(n.jsxs)("div",{className:"app__stats",children:[Object(n.jsx)(I,{onClick:function(e){return U("cases")},title:"Coronavirus Cases",isRed:!0,width:a,active:"cases"===R,cases:W(j.todayCases),total:L()(j.cases).format("0,0")}),Object(n.jsx)(I,{onClick:function(e){return U("recovered")},title:"Recovered",width:a,active:"recovered"===R,cases:W(j.todayRecovered),total:L()(j.recovered).format("0,0")}),Object(n.jsx)(I,{onClick:function(e){return U("deaths")},title:"Deaths",isRed:!0,width:a,active:"deaths"===R,cases:W(j.todayDeaths),total:L()(j.deaths).format("0,0")})]}),j&&j.updated&&Object(n.jsx)("div",{children:Object(n.jsxs)(C.a,{style:{width:"fit-content",float:"right",marginTop:8},color:"textSecondary",children:["Last updated "," "+Y(j.updated)]})}),Object(n.jsx)(de,{countries:g,casesType:R,center:G,zoom:q,selectedCountry:o}),"worldwide"!==o&&j.countryInfo&&Object(n.jsxs)(N.a,{style:{marginTop:"1rem",marginBottom:"xs"===a?"1rem":"0"},children:[Object(n.jsx)(k.a,{children:Object(n.jsxs)("div",{className:"app__information",style:{display:"flex"},children:[Object(n.jsx)("img",{style:{height:39,placeSelf:"center"},src:j.countryInfo.flag,alt:j.country}),Object(n.jsxs)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:[j.country," "," "+R]})]})}),Object(n.jsx)(S.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(te,{classname:"app_graph",country:o,id:"country-graph",casesType:R,countryName:j.country})]})]}),"xs"===a&&Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{className:"app__right",children:Object(n.jsx)(k.a,{children:Object(n.jsxs)("div",{className:"app__information",children:[Object(n.jsxs)("h3",{children:["Live ",R," by country"]}),Object(n.jsx)(ie,{setCountryChange:K,casesType:R,countries:E}),Object(n.jsxs)("h3",{children:["Worldwide new ",R]}),Object(n.jsx)(te,{id:"global-graph",casesType:R,countryName:"worldwide"===o?"Worldwide":j.country})]})})})]})},me=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).types=["cases","recovered","deaths"],e.state={type:e.types.includes(new URLSearchParams(window.location.search).get("type"))?new URLSearchParams(window.location.search).get("type"):"cases"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(pe,{caseProp:this.state.type,width:this.props.width}),"xs"===this.props.width&&Object(n.jsx)(v,{})]})}}]),a}(c.Component),xe=Object(j.a)()(me),Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,283)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(xe,{})}),document.getElementById("root")),Oe()}},[[228,1,2]]]);