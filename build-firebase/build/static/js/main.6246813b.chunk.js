(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{119:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),s=a(10),i=a.n(s),o=(a(119),a(98)),l=a(99),d=a(105),j=a(104),u=a(279),h=a(7),b=a(258),f=a(261),p=a(263),O=a.p+"static/media/download.5610a71b.svg",x=a.p+"static/media/close.3d085550.svg",m=Object(b.a)((function(e){return{toolbar:{display:"flex",backgroundColor:"#ffffff",paddingLeft:4,alignItems:"center"},content:{flexGrow:1,cursor:"pointer","& img":{width:40,height:36}},image:{width:20,padding:14,cursor:"pointer"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}}));var v=function(){var e=r.a.useState(!1),t=Object(h.a)(e,2),a=t[0],c=t[1],s=r.a.useState(null),i=Object(h.a)(s,2),o=i[0],l=i[1],d=m();return window.onload=function(){window.addEventListener("beforeinstallprompt",(function(e){if(e.preventDefault(),window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return console.log("Already install"),!1;l(e),c(!0)}))},Object(n.jsx)(r.a.Fragment,{children:a&&Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{position:"fixed",variant:"elevation",color:"transparent",className:d.appBar,children:Object(n.jsxs)(p.a,{className:d.toolbar,children:[Object(n.jsx)("div",{onClick:function(e){o?(o.prompt(),o.userChoice.then((function(e){"accepted"===e.outcome&&c(!1)}))):console.log("No eligible to install")},className:d.content,children:Object(n.jsxs)("div",{className:d.toolbar,children:[Object(n.jsx)("img",{alt:"download",src:O}),Object(n.jsx)("p",{children:"Install covid tracker"})]})}),Object(n.jsx)("img",{onClick:function(){c(!1)},alt:"close",src:x,className:d.image})]})})]})})},g=(a(123),a(20)),y=a.n(g),w=a(41),C=a(273),N=a(274),S=a(278),k=a(226),_=a(264),I=a(265),L=a(270),T=a(26);a(125);var B=function(e){var t=e.width,a=e.title,c=e.cases,r=e.total,s=e.active,i=e.isRed,o=Object(T.a)(e,["width","title","cases","total","active","isRed"]),l="xs"===t?{fontSize:"1.45rem"}:null;return Object(n.jsx)(_.a,{onClick:o.onClick,className:"infoBox ".concat(s&&"infoBox--selected"," ").concat(i&&"infoBox--red"),children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(k.a,{color:"textSecondary",gutterBottom:!0,children:a}),Object(n.jsx)("h2",{style:l,className:"infoBox__cases ".concat(!i&&"infoBox__cases--green"),children:c}),Object(n.jsxs)(k.a,{className:"infoBox__total",color:"textSecondary",children:[r," Total"]})]})})},M=a(42),F=a(13),D=a.n(F),R=a(54),A=a(280),E=a(266),P={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:300},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:400},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},U=function(e){return P[e].half_op},W=function(e){return P[e].hex},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",a=Object(R.a)(e);return a.sort((function(e,a){return e[t]>a[t]?-1:1})),a},G=function(e){return e?"+".concat(D()(e).format("0.0a")):"+0"},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return Object(n.jsx)(A.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:P[t].hex,fillColor:P[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*P[t].multiplier,children:Object(n.jsx)(E.a,{children:Object(n.jsxs)("div",{className:"info-container",children:[Object(n.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(n.jsx)("div",{className:"info-name",children:e.country}),Object(n.jsxs)("div",{className:"info-confirmed",children:["Cases: ",D()(e.cases).format("0,0")]}),Object(n.jsxs)("div",{className:"info-recovered",children:["Recovered: ",D()(e.recovered).format("0,0")]}),Object(n.jsxs)("div",{className:"info-deaths",children:["Deaths: ",D()(e.deaths).format("0,0")]})]})})},t+""+e.country)}))},J=function(e){var t=new Date(parseInt(e.toString(),10)).toString("MM/dd/yy HH:mm:ss");return t.substr(0,t.indexOf("GMT"))},H=function(e,t){var a,n=[];for(var c in e[t]){if(a){var r={x:c,y:Math.abs(e[t][c]-a)};5e6!==r.y&&n.push(r)}e[t][c]-a!==5e6&&(a=e[t][c])}return n},q=a(267),V=a(276),Z=a(268),K=a(269),Q=a(271),X=a.p+"static/media/fullscreen.9a7f3595.svg",$={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return D()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return D()(e).format("0a")}}}]}};var ee=function(e){var t=e.data,a=e.country,c=r.a.useState(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],l=function(){o(!1)};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(q.a,{style:{float:"right"},onClick:function(){o(!0)},children:Object(n.jsx)("img",{style:{width:18},src:X,alt:"fullscreen"})}),Object(n.jsxs)(V.a,{fullScreen:!0,open:i,onClose:l,children:[Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(K.a,{style:{marginRight:-98,width:"100%"},children:a}),Object(n.jsx)(q.a,{onClick:l,children:Object(n.jsx)("img",{style:{width:18},src:x,alt:"close"})})]}),Object(n.jsx)(L.a,{}),Object(n.jsx)(Q.a,{children:Object(n.jsx)("div",{children:t&&Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(_.a,{variant:"outlined",style:{margin:10},children:[Object(n.jsx)(I.a,{children:Object(n.jsx)("div",{className:"app__information",children:Object(n.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Cases"})})}),Object(n.jsx)(L.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.Line,{data:{datasets:[{backgroundColor:U("cases"),borderColor:W("cases"),data:H(t,"cases")}]},options:$})]}),Object(n.jsxs)(_.a,{variant:"outlined",style:{margin:10},children:[Object(n.jsx)(I.a,{children:Object(n.jsx)("div",{className:"app__information",children:Object(n.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Recovered"})})}),Object(n.jsx)(L.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.Line,{data:{datasets:[{backgroundColor:U("recovered"),borderColor:W("recovered"),data:H(t,"recovered")}]},options:$})]}),Object(n.jsxs)(_.a,{variant:"outlined",style:{margin:10},children:[Object(n.jsx)(I.a,{children:Object(n.jsx)("div",{className:"app__information",children:Object(n.jsx)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:"Deaths"})})}),Object(n.jsx)(L.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(M.Line,{data:{datasets:[{backgroundColor:U("deaths"),borderColor:W("deaths"),data:H(t,"deaths")}]},options:$})]})]})})})]})]})},te={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return D()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return D()(e).format("0a")}}}]}};var ae=function(e){var t=e.casesType,a=e.country,s=e.countryName,i=Object(c.useState)({}),o=Object(h.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(""),u=Object(h.a)(j,2),b=u[0],f=u[1],p=Object(c.useState)({}),O=Object(h.a)(p,2),x=O[0],m=O[1];return Object(c.useEffect)((function(){if(b!==a){(function(){var e=Object(w.a)(y.a.mark((function e(){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a&&"worldwide"!==a?"https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(c).then((function(e){return e.json()})).then((function(e){a&&"worldwide"!==a&&(e=e.timeline),m(e),f(a);var n=H(e,t);d(n)})).catch((function(e){return Object(n.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=H(x,t);d(e)}}),[a]),Object(c.useEffect)((function(){if(b!==a){(function(){var e=Object(w.a)(y.a.mark((function e(){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a&&"worldwide"!==a?"https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/all?lastdays=120",e.next=3,fetch(c).then((function(e){return e.json()})).then((function(e){a&&"worldwide"!==a&&(e=e.timeline),m(e),f(a);var n=H(e,t);d(n)})).catch((function(e){return Object(n.jsx)("p",{children:"No data found"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{var e=H(x,t);d(e)}}),[t]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"app_graph",children:(null===l||void 0===l?void 0:l.length)>0&&Object(n.jsx)(M.Line,{data:{datasets:[{backgroundColor:U(t),borderColor:W(t),data:l}]},options:te})}),Object(n.jsx)(ee,{country:s,data:x})]})},ne=(a(222),a(107)),ce=a(277),re=a.p+"static/media/search.9ecf77d3.svg",se=Object(b.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function ie(e){var t=e.setFilterText,a=e.filterText,c=se();return Object(n.jsxs)(ne.a,{component:"form",className:c.root,children:[Object(n.jsx)(q.a,{className:c.iconButton,"aria-label":"menu",children:Object(n.jsx)("img",{src:re,alt:"Search",style:{width:16}})}),Object(n.jsx)(ce.a,{className:c.input,onChange:function(e){t(e.target.value)},value:a,placeholder:"Search Google Maps",inputProps:{"aria-label":"search google maps"}}),Object(n.jsx)(L.a,{className:c.divider,orientation:"vertical"}),Object(n.jsx)(q.a,{color:"primary",className:c.iconButton,"aria-label":"directions",children:Object(n.jsx)("img",{src:x,onClick:function(){t("")},alt:"remove",style:{width:16}})})]})}var oe=function(e){var t=e.countries,a=e.casesType,c=e.setCountryChange,s=r.a.useState(""),i=Object(h.a)(s,2),o=i[0],l=i[1],d=r.a.useState(Object(R.a)(t)),j=Object(h.a)(d,2),u=j[0],b=j[1];return r.a.useEffect((function(){b(Object(R.a)(t))}),[t]),r.a.useEffect((function(){console.log("Activated",o);""!==o?(console.log(o,t.filter((function(e){return e.country.toUpperCase().startsWith(o.toUpperCase())}))),b(t.filter((function(e){return e.country.toUpperCase().startsWith(o.toUpperCase())})))):b(t.map((function(e){return e})))}),[o]),Object(n.jsxs)(_.a,{variant:"outlined",children:[Object(n.jsx)(ie,{setFilterText:l,filterText:o}),Object(n.jsx)("div",{className:"table",children:u.map((function(e){return Object(n.jsxs)("tr",{onClick:function(){return t=e.countryInfo.iso2,void c(t);var t},className:"table-row",children:[Object(n.jsx)("td",{children:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("img",{src:e.countryInfo.flag,className:"table-img",alt:e.country}),Object(n.jsx)("p",{children:e.country})]})}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:D()(e[a]).format("0,0")})})]},e.country)}))})]})},le=a(272),de=a(281);a(223);var je=function(e){var t=e.countries,a=e.casesType,c=e.center,s=e.zoom,i=r.a.useState(c),o=Object(h.a)(i,2),l=o[0],d=o[1],j=r.a.useState(s),u=Object(h.a)(j,2),b=u[0],f=u[1];return r.a.useEffect((function(){d(c),34.80746===c[0]?f(3):f(4)}),[c]),Object(n.jsx)("div",{className:"map",children:Object(n.jsxs)(le.a,{geoJSON:{color:"#000000"},scrollWheelZoom:!1,center:l,zoom:b,children:[Object(n.jsx)(de.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Y(t,a)]})},l)};a(224);var ue=function(e){var t=e.caseProp,a=e.width,s=Object(c.useState)("worldwide"),i=Object(h.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)({}),j=Object(h.a)(d,2),u=j[0],b=j[1],f=Object(c.useState)([]),p=Object(h.a)(f,2),O=p[0],x=p[1],m=Object(c.useState)([]),v=Object(h.a)(m,2),g=v[0],T=v[1],M=Object(c.useState)([]),F=Object(h.a)(M,2),R=F[0],A=F[1],E=Object(c.useState)(t),P=Object(h.a)(E,2),U=P[0],W=P[1],Y=Object(c.useState)([34.80746,-40.4796]),H=Object(h.a)(Y,2),q=H[0],V=H[1],Z=Object(c.useState)("xs"===a?2:3),K=Object(h.a)(Z,2),Q=K[0],X=K[1];Object(c.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(c.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),a=z(e);x(t),T(e),A(a)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var $=function(){var e=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target&&t.target.value?t.target.value:t,l(a),n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a),e.next=5,fetch(n).then((function(e){return e.json()})).then((function(e){b(e);try{e.countryInfo.lat?V([e.countryInfo.lat,e.countryInfo.long]):V([34.80746,-40.4796])}catch(t){V([34.80746,-40.4796])}X("worldwide"===o?3:4)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)("div",{className:"app__left",children:[Object(n.jsxs)("div",{className:"app__header",children:[Object(n.jsx)("h1",{children:"COVID-19 Tracker"}),Object(n.jsx)(C.a,{className:"app__dropdown",children:Object(n.jsxs)(N.a,{variant:"outlined",value:o,onChange:$,children:[Object(n.jsx)(S.a,{value:"worldwide",children:"Worldwide"}),O.map((function(e){return Object(n.jsx)(S.a,{value:e.value,children:e.name},e.value)}))]})})]}),Object(n.jsxs)("div",{className:"app__stats",children:[Object(n.jsx)(B,{onClick:function(e){return W("cases")},title:"Coronavirus Cases",isRed:!0,width:a,active:"cases"===U,cases:G(u.todayCases),total:D()(u.cases).format("0,0")}),Object(n.jsx)(B,{onClick:function(e){return W("recovered")},title:"Recovered",width:a,active:"recovered"===U,cases:G(u.todayRecovered),total:D()(u.recovered).format("0,0")}),Object(n.jsx)(B,{onClick:function(e){return W("deaths")},title:"Deaths",isRed:!0,width:a,active:"deaths"===U,cases:G(u.todayDeaths),total:D()(u.deaths).format("0,0")})]}),u&&u.updated&&Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{style:{width:"fit-content",float:"right",marginTop:8},color:"textSecondary",children:["Last updated "," "+J(u.updated)]})}),Object(n.jsx)(je,{countries:g,casesType:U,center:q,zoom:Q}),"worldwide"!==o&&u.countryInfo&&Object(n.jsxs)(_.a,{style:{marginTop:"1rem",marginBottom:"xs"===a?"1rem":"0"},children:[Object(n.jsx)(I.a,{children:Object(n.jsxs)("div",{className:"app__information",style:{display:"flex"},children:[Object(n.jsx)("img",{style:{height:39,placeSelf:"center"},src:u.countryInfo.flag,alt:u.country}),Object(n.jsxs)("h3",{style:{height:"min-content",alignSelf:"center",marginLeft:"1rem"},children:[u.country," "," "+U]})]})}),Object(n.jsx)(L.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)(ae,{classname:"app_graph",country:o,casesType:U,countryName:u.country})]})]}),"xs"===a&&Object(n.jsx)("br",{}),Object(n.jsx)(_.a,{className:"app__right",children:Object(n.jsx)(I.a,{children:Object(n.jsxs)("div",{className:"app__information",children:[Object(n.jsxs)("h3",{children:["Live ",U," by country"]}),Object(n.jsx)(oe,{setCountryChange:$,casesType:U,countries:R}),Object(n.jsxs)("h3",{children:["Worldwide new ",U]}),Object(n.jsx)(ae,{casesType:U,countryName:"worldwide"===o?"Worldwide":u.country})]})})})]})},he=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).types=["cases","recovered","deaths"],e.state={type:e.types.includes(new URLSearchParams(window.location.search).get("type"))?new URLSearchParams(window.location.search).get("type"):"cases"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(ue,{caseProp:this.state.type,width:this.props.width}),"xs"===this.props.width&&Object(n.jsx)(v,{})]})}}]),a}(c.Component),be=Object(u.a)()(he),fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,283)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(be,{})}),document.getElementById("root")),fe()}},[[225,1,2]]]);